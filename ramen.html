<html>
<svg width="500" height="500" style="background: gray"></svg>

<script src="./d3.js"></script>
<script src="./path_generator.js"></script>
<script type="text/javascript">
  let svg = d3.select("svg");

  const bowl = {
    x: 100,
    y: 100,
    w: 175,
    h: 80,
    stand: {
      w: 100,
      h: 10
    },
    color: "#EC7063"
  }

  svg.append("path").attr("fill",bowl.color)
  .attr("d",function() {
    return "M"+bowl.x+" "+bowl.y
    +"C"+bowl.x+" "+(bowl.y+bowl.h/3).toFixed(2)
    +" "+(bowl.x + (bowl.w-bowl.stand.w)/2/2).toFixed(2)+" "+(bowl.y + bowl.h*2/3).toFixed(2)
    +" "+(bowl.x + (bowl.w-bowl.stand.w)/2)+" "+(bowl.y + bowl.h)
    +"L"+(bowl.x + (bowl.w-bowl.stand.w)/2)+" "+(bowl.y + bowl.h + bowl.stand.h)
    +"C"+(bowl.x + (bowl.w-bowl.stand.w)/2)+" "+(bowl.y + bowl.h + bowl.stand.h + 15)
    +" "+(bowl.x + (bowl.w-bowl.stand.w)/2 + bowl.stand.w)+" "+(bowl.y + bowl.h + bowl.stand.h+ 15)
    +" "+(bowl.x + (bowl.w-bowl.stand.w)/2 + bowl.stand.w)+" "+(bowl.y + bowl.h + bowl.stand.h)
    +"L"+(bowl.x + (bowl.w-bowl.stand.w)/2 + bowl.stand.w)+" "+(bowl.y + bowl.h)
    +"C"+(bowl.x + 3*(bowl.w-bowl.stand.w)/4 + bowl.stand.w).toFixed(2)+" "+(bowl.y + bowl.h*2/3).toFixed(2)
    +" "+(bowl.x + bowl.w)+" "+(bowl.y+bowl.h/3).toFixed(2)
    +" "+(bowl.x + bowl.w)+" "+(bowl.y)
    +"Z";
  });



  // const outer_ring = {
  //   x: bowl.x,
  //   y: bowl.y + 10,
  //   w: bowl.w,
  //   h: 5,
  //   r:20,
  //   color: "gold"
  // };
  // svg.append("path").attr("fill",outer_ring.color)
  // .attr("d",function() {
  //   return "M"+outer_ring.x+" "+outer_ring.y
  //   +"C"+(outer_ring.x + outer_ring.w/3)+" "+(outer_ring.y + outer_ring.r)
  //   +" "+(outer_ring.x + 2*outer_ring.w/3)+" "+(outer_ring.y + outer_ring.r)
  //   +" "+(outer_ring.x + outer_ring.w)+" "+(outer_ring.y)
  //   +"L"+(outer_ring.x + outer_ring.w)+" "+(outer_ring.y + outer_ring.h)
  //   +"C"+(outer_ring.x + 2*outer_ring.w/3)+" "+(outer_ring.y + outer_ring.r + outer_ring.h)
  //   +" "+(outer_ring.x + outer_ring.w/3)+" "+(outer_ring.y + outer_ring.r + outer_ring.h)
  //   +" "+outer_ring.x+" "+(outer_ring.y + outer_ring.h)
  //   +"Z";
  // });



  const rim = {
    x: bowl.x + bowl.w/2,
    y: bowl.y,
    rx: bowl.w/2,
    ry: 40,
    color: "white"
  };
  svg.append("ellipse").attr("fill",rim.color)
  .attr("cx",rim.x)
  .attr("cy",rim.y)
  .attr("rx",rim.rx)
  .attr("ry",rim.ry);



  const nori = {
    x: bowl.x + 25,
    y: bowl.y-70,
    w: 50,
    h: 50,
    r: 5,
    rotate: -15,
    color: "#333"
  };
  svg.append("path").attr("fill",nori.color).attr("transform","rotate("+nori.rotate+","+(nori.x+nori.w)+","+(nori.y+nori.h)+")")
  .attr("d",function() {
    return "M"+nori.x+" "+nori.y
    +"L"+(nori.x + nori.w)+" "+nori.y
    +"Q"+(nori.x + nori.w - nori.r)+" "+(nori.y + nori.h/2)
    +" "+(nori.x + nori.w)+" "+(nori.y + nori.h)
    +"L"+nori.x+" "+(nori.y + nori.h)
    +"Q"+(nori.x - nori.r)+" "+(nori.y + nori.h/2)
    +" "+nori.x+" "+nori.y
  });


  const soup = {
    x: rim.x,
    y: rim.y,
    rx: rim.rx*0.9,
    ry: rim.ry*0.8,
    opacity: 0.9,
    color: "#C06B2D"
  };
  svg.append("ellipse").attr("fill",soup.color).attr("style","opacity:"+soup.opacity)
  .attr("cx",soup.x)
  .attr("cy",soup.y)
  .attr("rx",soup.rx)
  .attr("ry",soup.ry);







  const egg = {
    x: 150,
    y: 80,
    rx: 12,
    ry1: 25,
    ry2:20,
    rotate: -60,
    color: "white"
  };
  svg.append("path").attr("fill",egg.color).attr("transform","rotate("+egg.rotate+","+(egg.x+egg.rx)+","+(egg.y+egg.ry1)+")")
  .attr("d",function() {
    return "M"+egg.x+" "+(egg.y + egg.ry1)
    +"C"+egg.x+" "+(egg.y + egg.ry1 + egg.ry2)
    +" "+(egg.x + 2*egg.rx)+" "+(egg.y + egg.ry1 + egg.ry2)
    +" "+(egg.x + 2*egg.rx)+" "+(egg.y + egg.ry1)
    +"C"+(egg.x + 7*egg.rx/4)+" "+egg.y
    +" "+(egg.x + egg.rx/4)+" "+egg.y
    +" "+egg.x+" "+(egg.y+egg.ry1)
  });



  const yolk= {
    x: egg.x + egg.rx,
    y: egg.y + egg.ry1,
    rx: 8,
    ry: 9,
    color: "yellow",
    rotate: egg.rotate
  };
  svg.append("ellipse").attr("fill",yolk.color).attr("transform","rotate("+egg.rotate+","+(egg.x+egg.rx)+","+(egg.y+egg.ry1)+")")
  .attr("cx",yolk.x)
  .attr("cy",yolk.y)
  .attr("rx",yolk.rx)
  .attr("ry",yolk.ry);





  const chopstick_1 = {
    x: 140,
    y: 50,
    w: 200,
    h: 5,
    rotate: 5,
    color: "#3E2723"
  };
  svg.append("path").attr("fill",chopstick_1.color).attr("transform","rotate("+chopstick_1.rotate+","+(chopstick_1.x+chopstick_1.w/2)+","+(chopstick_1.y+chopstick_1.h/2)+")")
  .attr("d",function() {
    return "M"+(chopstick_1.x + chopstick_1.w)+" "+chopstick_1.y
    +"C"+chopstick_1.x+" "+chopstick_1.y
    +" "+chopstick_1.x+" "+(chopstick_1.y + chopstick_1.h)
    +" "+(chopstick_1.x + chopstick_1.w)+" "+(chopstick_1.y + chopstick_1.h)
    +"Z";
  });




  const chopstick_2 = {
    x: chopstick_1.x,
    y: chopstick_1.y-7,
    w: chopstick_1.w,
    h: chopstick_1.h,
    color: chopstick_1.color
  };
  svg.append("path").attr("fill",chopstick_2.color)
  .attr("d",function() {
    return "M"+(chopstick_2.x + chopstick_2.w)+" "+chopstick_2.y
    +"C"+chopstick_2.x+" "+chopstick_2.y
    +" "+chopstick_2.x+" "+(chopstick_2.y + chopstick_2.h)
    +" "+(chopstick_2.x + chopstick_2.w)+" "+(chopstick_2.y + chopstick_2.h)
    +"Z";
  });





  const noodles = {
    start: {
      x: bowl.x + bowl.w/2 + 10,
      y: bowl.y - 2,
    },
    sections: [
    {dx: 0, dy: -50, r: 0, step_size: 4, wiggle_size: 1},
    {dx: 2, dy: -2, r: -20, step_size: 1, wiggle_size: 0.5},
    {dx: 20, dy:0, r: 0, step_size: 2, wiggle_size: 1},
    {dx: 2, dy:2, r: -20, step_size: 1, wiggle_size: 0.5},
    {dx: 0, dy: 50, r: 0, step_size: 4, wiggle_size: 1},
    {dx: -24, dy: 0, r: 50, step_size: 3, wiggle_size: 1},
    ],
    color: "gold"
  };

  svg.append("path").attr("fill",noodles.color)
  .attr("d",generate_path(noodles));



  const strand_1 = {
    start: {
      x: noodles.start.x + 3,
      y: noodles.start.y,
    },
    sections: [
    {dx: 0, dy: -40, r: 0, step_size: 4, wiggle_size: 0.25},
    {dx: 1, dy: -10, r: -20, step_size: 1, wiggle_size: 0.25},
    {dx: 1, dy:10, r: -20, step_size: 1, wiggle_size: 0.25},
    {dx: 0, dy: 40, r: 0, step_size: 4, wiggle_size: 0.25},
    ],
    color: "#DAB770"
  };

  svg.append("path").attr("fill",strand_1.color)
  .attr("d",generate_path(strand_1));



  const strand_2 = {
    start: {
      x: noodles.start.x + 11,
      y: noodles.start.y,
    },
    sections: [
    {dx: 0, dy: -42, r: 0, step_size: 4, wiggle_size: 0.25},
    {dx: 1, dy: -10, r: -20, step_size: 1, wiggle_size: 0.25},
    {dx: 1, dy:10, r: -20, step_size: 1, wiggle_size: 0.25},
    {dx: 0, dy: 42, r: 0, step_size: 4, wiggle_size: 0.25},
    ],
    color: "#DAB770"
  };

  svg.append("path").attr("fill",strand_2.color)
  .attr("d",generate_path(strand_2));




  const strand_3 = {
    start: {
      x: noodles.start.x + 17,
      y: noodles.start.y,
    },
    sections: [
    {dx: 0, dy: -40, r: 0, step_size: 4, wiggle_size: 0.25},
    {dx: 1, dy: -10, r: -20, step_size: 1, wiggle_size: 0.25},
    {dx: 1, dy:10, r: -20, step_size: 1, wiggle_size: 0.25},
    {dx: 0, dy: 40, r: 0, step_size: 4, wiggle_size: 0.25},
    ],
    color: "#DAB770"
  };

  svg.append("path").attr("fill",strand_3.color)
  .attr("d",generate_path(strand_3));




  const scallions = {
    x: bowl.x + 50,
    y: bowl.y - 15,
    range_x: 15,
    range_y: 8,
    number: 12,
    colors: ["green", "#009900", "white"],
    min_rx: 2,
    max_rx: 5,
    y_prop: 0.8,
    min_w: 1,
    max_w: 1.25,
    min_o: 0.5,
    max_o: 1
  };
  for(let i=0; i<scallions.number; ++i) {
    const rx = (scallions.max_rx-scallions.min_rx)*Math.random()+scallions.min_rx;

    svg.append("ellipse").attr("fill","transparent")
    .attr("cx", (scallions.x + (2*Math.random()-1)*scallions.range_x).toFixed(2) )
    .attr("cy", (scallions.y + (2*Math.random()-1)*scallions.range_y).toFixed(2) )
    .attr("rx", rx.toFixed(2) )
    .attr("ry", rx*scallions.y_prop.toFixed(2) )
    .attr("stroke",scallions.colors[ Math.floor(Math.random()*scallions.colors.length) ])
    .attr("stroke-width", ((scallions.max_w-scallions.min_w)*Math.random()+scallions.min_w).toFixed(2) )
    .attr("opacity", ((scallions.max_o-scallions.min_o)*Math.random()+scallions.min_o).toFixed(2) );
  };




  const skin = {
    start: {
      x: bowl.x + bowl.w/2 - 9,
      y: bowl.y + 5,
    },
    sections: [
    {dx: 21, dy: -17, r: -20, step_size: 4, wiggle_size: 1},
    {dx: 21, dy: 17, r: -20, step_size: 4, wiggle_size: 1},
    {dx: -21, dy: 17, r: 14, step_size: 4, wiggle_size: 1},
    {dx: -21, dy: -17, r: 14, step_size: 4, wiggle_size: 1},
    ],
    color: "#864A1F"
  };

  svg.append("path").attr("fill",skin.color)
  .attr("d",generate_path(skin));



  const pork_1 = {
    start: {
      x: skin.start.x + 1,
      y: skin.start.y + 1,
    },
    sections: [
    {dx: 20, dy: -16, r: -20, step_size: 4, wiggle_size: 1},
    {dx: 20, dy: 16, r: -20, step_size: 4, wiggle_size: 1},
    {dx: -20, dy: 16, r: 14, step_size: 4, wiggle_size: 1},
    {dx: -20, dy: -16, r: 14, step_size: 4, wiggle_size: 1},
    ],
    color: "#FDEBD0"
  };

  svg.append("path").attr("fill",pork_1.color)
  .attr("d",generate_path(pork_1));




  const pork_2 = {
    start: {
      x: pork_1.start.x + 20,
      y: pork_1.start.y + 16,
    },
    sections: [
    {dx: -10, dy: -10, r: 14, step_size: 1, wiggle_size: 0.5},
    {dx: 10, dy: -12, r: -12, step_size: 1, wiggle_size: 0.5},
    {dx: 8, dy: 8, r: -14, step_size: 1, wiggle_size: 0.5},
    {dx: -2, dy: 0, r: 0, step_size: 1, wiggle_size: 0.5},
    {dx: -7, dy: -6, r: -12, step_size: 1, wiggle_size: 0.5},
    {dx: -7, dy: 10, r: -13, step_size: 1, wiggle_size: 0.5},
    {dx: 10, dy: 10, r: 15, step_size: 1, wiggle_size: 0.5},
    ],
    color: "#9F6C47"
  };

  svg.append("path").attr("fill",pork_2.color)
  .attr("d",generate_path(pork_2));
</script>

</html>
