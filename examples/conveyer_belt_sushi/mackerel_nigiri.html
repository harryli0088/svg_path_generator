<html>
<svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" width="300" height="300" style="background: gray">
  <!-- made by Harry Li github.com/harryli0088 -->
  <defs>
    <linearGradient id="skin" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#DFDFDF;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#5A6362;stop-opacity:1" />
    </linearGradient>
  </defs>
  <defs>
    <linearGradient id="red_nw_se" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF9393;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#CB0000;stop-opacity:1" />
    </linearGradient>
  </defs>
  <defs>
    <linearGradient id="red_ne_sw" x1="100%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#FF9393;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#CB0000;stop-opacity:1" />
    </linearGradient>
  </defs>
  <defs>
    <linearGradient id="ginger" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FFF478;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#C1B100;stop-opacity:1" />
    </linearGradient>
  </defs>
</svg>

<script src="../../node_modules/d3/dist/d3.js"></script>
<script src="../../index.js"></script>
<script type="text/javascript">
const scallion_color_scale = d3.scaleLinear().domain([0,1]).range(["#64CF28","#286E00"])

const svg = d3.select("svg")

const g = svg.append("g").attr("transform","translate(150,150)")

//plate
g.append("circle").attr("cx",0).attr("cy",0).attr("r",149).attr("fill","#e5e5e5")
g.append("circle").attr("cx",0).attr("cy",0).attr("r",100).attr("fill","#eee").attr("stroke","#ccc").attr("stroke-width",2)

// const rotate_group = g.append("g").attr("transform","rotate(45) scale(1.5)")
const nigiri_group = g.append("g").attr("transform","scale(1.4) translate(-55,-53)")

const group_1 = nigiri_group.append("g").attr("transform","translate(0,-10)")
const group_2 = nigiri_group.append("g").attr("transform","translate(60,10)")

const skin_1 = {
  start: {
    x: 0,
    y: 0
  },
  sections: [
    {dx: 50, dy: 15, r: -100, step_size: 3, wiggle_size: 0},
    {dx: 0, dy: 100, r: -1000, step_size: 3, wiggle_size: 0},
    {dx: -50, dy: -15, r: 100, step_size: 3, wiggle_size: 0},
    {dx: 0, dy: -100, r: -1000, step_size: 3, wiggle_size: 0},

  ],
  color: "url(#skin)"
}
group_1.append("path").attr("fill",skin_1.color).attr("d",svg_path_generator(skin_1))



const line_white_1_1 = {
  start: {
    x: 10,
    y: 0
  },
  sections: [
    {dx: 0, dy: 105, r: 1000, step_size: 1, wiggle_size: 1},
    {dx: 0, dy: -105, r: -1000, step_size: 1, wiggle_size: 1},
  ],
  color: "white"
}
group_1.append("path").attr("fill",line_white_1_1.color).attr("d",svg_path_generator(line_white_1_1))
.attr("opacity","0.2").attr("stroke","white").attr("stroke-width",1)

const line_white_2_1 = {
  start: {
    x: 20,
    y: 4
  },
  sections: [
    {dx: 0, dy: 105, r: 0, step_size: 1, wiggle_size: 1},
  ],
  color: "white"
}
group_1.append("path").attr("fill",line_white_2_1.color).attr("d",svg_path_generator(line_white_2_1))
.attr("opacity","0.2").attr("stroke","white").attr("stroke-width",1)

const line_white_3_1 = {
  start: {
    x: 30,
    y: 7
  },
  sections: [
    {dx: 0, dy: 105, r: 0, step_size: 1, wiggle_size: 1},
  ],
  color: "white"
}
group_1.append("path").attr("fill",line_white_3_1.color).attr("d",svg_path_generator(line_white_3_1))
.attr("opacity","0.2").attr("stroke","white").attr("stroke-width",1)

const line_white_4_1 = {
  start: {
    x: 40,
    y: 10
  },
  sections: [
    {dx: 0, dy: 105, r: -1000, step_size: 1, wiggle_size: 1},
    {dx: 0, dy: -105, r: 1000, step_size: 1, wiggle_size: 1},
  ],
  color: "white"
}
group_1.append("path").attr("fill",line_white_4_1.color).attr("d",svg_path_generator(line_white_4_1))
.attr("opacity","0.2").attr("stroke","white").attr("stroke-width",1)



const red_1_1 = {
  start: {
    x: 10,
    y: 10
  },
  sections: [
    {dx: 30, dy: 95, r: -180, step_size: 3, wiggle_size: 0},
    {dx: -30, dy: -95, r: -300, step_size: 3, wiggle_size: 0},
  ],
  color: "url(#red_nw_se)"
}
group_1.append("path").attr("fill",red_1_1.color).attr("d",svg_path_generator(red_1_1))



const red_2_1 = {
  start: {
    x: 40,
    y: 20
  },
  sections: [
    {dx: -30, dy: 75, r: -150, step_size: 3, wiggle_size: 0},
    {dx: 30, dy: -75, r: -300, step_size: 3, wiggle_size: 0},
  ],
  color: "url(#red_ne_sw)"
}
group_1.append("path").attr("fill",red_2_1.color).attr("d",svg_path_generator(red_2_1))



const ginger_1 = {
  start: {
    x: 20,
    y: 50
  },
  sections: [
    {dx: 12, dy: 0, r: -8, step_size: 2, wiggle_size: 1},
    {dx: 0, dy: 12, r: -8, step_size: 2, wiggle_size: 1},
    {dx: -12, dy: 0, r: 8, step_size: 2, wiggle_size: 1},
    {dx: 0, dy: -12, r: -8, step_size: 2, wiggle_size: 1},
  ],
  color: "url(#ginger)"
}
group_1.append("path").attr("fill",ginger_1.color).attr("d",svg_path_generator(ginger_1))


const scallion_group_1 = group_1.append("g")
for(let i=0; i<12; ++i) {
  scallion_group_1.append("rect").attr("x",0).attr("y",0).attr("width",7).attr("height",4)
  .attr("transform",`scale(${1.25 - 0.5*Math.random()}) translate(${25},${50}) rotate(${(Math.round(Math.random() * 360))})`)
  .attr("fill", scallion_color_scale(Math.random()))
}
for(let i=0; i<12; ++i) {
  scallion_group_1.append("circle").attr("cx",20).attr("cy",48).attr("r",Math.random() + 2)
  .attr("transform",`translate(${Math.round(Math.random() * 15)},${Math.round(Math.random() * 15)})`)
  .attr("fill", "none").attr("stroke",scallion_color_scale(Math.random())).attr("stroke-width", 1)
}






const skin_2 = {
  start: {
    x: 0,
    y: 0
  },
  sections: [
    {dx: 50, dy: 15, r: -100, step_size: 3, wiggle_size: 0},
    {dx: 0, dy: 100, r: -1000, step_size: 3, wiggle_size: 0},
    {dx: -50, dy: -15, r: 100, step_size: 3, wiggle_size: 0},
    {dx: 0, dy: -100, r: -1000, step_size: 3, wiggle_size: 0},

  ],
  color: "url(#skin)"
}
group_2.append("path").attr("fill",skin_2.color).attr("d",svg_path_generator(skin_2))



const line_white_1_2 = {
  start: {
    x: 10,
    y: 0
  },
  sections: [
    {dx: 0, dy: 105, r: 1000, step_size: 1, wiggle_size: 1},
    {dx: 0, dy: -105, r: -1000, step_size: 1, wiggle_size: 1},
  ],
  color: "white"
}
group_2.append("path").attr("fill",line_white_1_2.color).attr("d",svg_path_generator(line_white_1_2))
.attr("opacity","0.2").attr("stroke","white").attr("stroke-width",1)

const line_white_2_2 = {
  start: {
    x: 20,
    y: 3
  },
  sections: [
    {dx: 0, dy: 105, r: 0, step_size: 1, wiggle_size: 1},
  ],
  color: "white"
}
group_2.append("path").attr("fill",line_white_2_2.color).attr("d",svg_path_generator(line_white_2_2))
.attr("opacity","0.2").attr("stroke","white").attr("stroke-width",1)

const line_white_3_2 = {
  start: {
    x: 30,
    y: 7
  },
  sections: [
    {dx: 0, dy: 105, r: 0, step_size: 1, wiggle_size: 1},
  ],
  color: "white"
}
group_2.append("path").attr("fill",line_white_3_2.color).attr("d",svg_path_generator(line_white_3_2))
.attr("opacity","0.2").attr("stroke","white").attr("stroke-width",1)

const line_white_4_2 = {
  start: {
    x: 40,
    y: 10
  },
  sections: [
    {dx: 0, dy: 105, r: -1000, step_size: 1, wiggle_size: 1},
    {dx: 0, dy: -105, r: 1000, step_size: 1, wiggle_size: 1},
  ],
  color: "white"
}
group_2.append("path").attr("fill",line_white_4_2.color).attr("d",svg_path_generator(line_white_4_2))
.attr("opacity","0.2").attr("stroke","white").attr("stroke-width",1)



const red_1_2 = {
  start: {
    x: 10,
    y: 10
  },
  sections: [
    {dx: 30, dy: 95, r: -180, step_size: 3, wiggle_size: 0},
    {dx: -30, dy: -95, r: -300, step_size: 3, wiggle_size: 0},
  ],
  color: "url(#red_nw_se)"
}
group_2.append("path").attr("fill",red_1_2.color).attr("d",svg_path_generator(red_1_2))



const red_2_2 = {
  start: {
    x: 42,
    y: 22
  },
  sections: [
    {dx: -35, dy: 75, r: -150, step_size: 3, wiggle_size: 0},
    {dx: 35, dy: -75, r: -300, step_size: 3, wiggle_size: 0},
  ],
  color: "url(#red_ne_sw)"
}
group_2.append("path").attr("fill",red_2_2.color).attr("d",svg_path_generator(red_2_2))



const ginger_2 = {
  start: {
    x: 18,
    y: 55
  },
  sections: [
    {dx: 13, dy: 0, r: -8, step_size: 2, wiggle_size: 1},
    {dx: 0, dy: 13, r: -8, step_size: 2, wiggle_size: 1},
    {dx: -13, dy: 0, r: 8, step_size: 2, wiggle_size: 1},
    {dx: 0, dy: -13, r: -8, step_size: 2, wiggle_size: 1},
  ],
  color: "url(#ginger)"
}
group_2.append("path").attr("fill",ginger_2.color).attr("d",svg_path_generator(ginger_2))


const scallion_group_2 = group_2.append("g").attr("transform","translate(80,30) rotate(90)")
for(let i=0; i<10; ++i) {
  scallion_group_2.append("rect").attr("x",0).attr("y",0).attr("width",7).attr("height",4)
  .attr("transform",`scale(${1.25 - 0.5*Math.random()}) translate(${25},${50}) rotate(${(Math.round(Math.random() * 360))})`)
  .attr("fill", scallion_color_scale(Math.random()))
}
for(let i=0; i<12; ++i) {
  scallion_group_2.append("circle").attr("cx",20).attr("cy",48).attr("r",Math.random() + 2)
  .attr("transform",`translate(${Math.round(Math.random() * 15)},${Math.round(Math.random() * 15)})`)
  .attr("fill", "none").attr("stroke",scallion_color_scale(Math.random())).attr("stroke-width", 1)
}

</script>

</html>
